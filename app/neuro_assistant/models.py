# Импортируем модуль для создания моделей
from django.db import models  

# Модель "Категория"
class Category(models.Model):
    # Поле для хранения названия категории
    # CharField - строка фиксированной длины, max_length указывает максимальную длину строки (255 символов)
    name = models.CharField(max_length=255)

    # Метод для текстового представления объекта категории (например, в админке Django)
    def __str__(self):
        return self.name

    # Класс для дополнительных настроек модели
    class Meta:
        # Человеко-понятное имя модели в единственном числе
        verbose_name = 'Категория'
        # Человеко-понятное имя модели во множественном числе
        verbose_name_plural = 'Категории'


# Модель "Чанк" (связанный текстовый блок)
class Chunk(models.Model):
    # Поле для связи с категорией (внешний ключ)
    # ForeignKey устанавливает связь "многие к одному" с моделью Category
    # on_delete=models.CASCADE: если категория удаляется, все связанные чанки удаляются тоже
    category = models.ForeignKey(Category, on_delete=models.CASCADE)
    
    # Поле для хранения текстового содержимого чанка
    # TextField - текстовое поле без ограничения на длину
    text = models.TextField()

    # Метод для текстового представления объекта чанка
    # Возвращает название категории, к которой относится чанк
    def __str__(self):
        return self.category.name

    # Класс для дополнительных настроек модели
    class Meta:
        # Человеко-понятное имя модели в единственном числе
        verbose_name = 'Чанк'
        # Человеко-понятное имя модели во множественном числе
        verbose_name_plural = 'Чанки'
